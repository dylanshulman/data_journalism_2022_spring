---
title: "Reverse Engineering Project"
author: "Student names here"
date: "Date here"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [STORY NAME](STORY URL)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
options(scipen=999)
library(tidyverse)
library(janitor)
```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data
data <- read.csv("data/CCRB-Complaint-Data_202007271729/allegations_202007271729.csv")
# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

# Clean required data and prepare for analysis if needed. 
```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: 
"Eighty-six of the roughly 420 officers in the department who currently hold a rank above captain — running precincts and other large commands and overseeing hundreds of officers — have tallied at least one misconduct allegation that was substantiated by the CCRB, meaning that investigators amassed enough evidence of offenses, ranging from bad language to pistol whippings, to say that they happened and broke patrol guidelines. The most common involved improper property entries and searches."
* **Analysis summary**: 
I was not able to confirm the first part of the finding, since there are only 81 officers in the data set with a current rank above captain. The data includes only officers with substantiated claims and has three designations for officers above captain, "Chiefs and other ranks," "Deputy Inspector," and "Inspector." The reason I came up short could be because ProPublica "removed a small number of officers (62) against whom the CCRB had substantiated allegations, but whose substantiated allegations had not gone fully through the NYPD’s administrative prosecution process" from the data set. Perhaps the missing 5 officers were a part of the 62 removed from the data. However, I was able to confirm that "Premises entered and/or searched" was the most common allegation among this selection of substantiated claims. 

```{r}
# Put code to reverse engineer sentence here

# Claim 1, 86 out of 420 officers ranked above captain with substantiated complaints
data %>% 
  filter(rank_now == "Chiefs and other ranks" | rank_now == "Deputy Inspector" | rank_now == "Inspector") %>% 
  select(unique_mos_id) %>% 
  distinct() %>% 
  group_by(unique_mos_id) %>% 
  summarize(count = n()) %>% 
  summarize(total = sum(count))

# Claim 2, improper property entries and searches was the most common
data %>% 
  filter(rank_now == "Chiefs and other ranks" | rank_now == "Deputy Inspector" | rank_now == "Inspector" & str_detect(board_disposition, "^Subs")) %>% 
  group_by(allegation) %>% 
  summarize(count= n()) %>% 
  arrange(desc(count))

# Display results of code below this codeblock
```

### Sentence 2

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 3

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-